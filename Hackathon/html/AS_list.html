<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PawPal</title>
    <link rel="stylesheet" href="/css/AS_list.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
</head>
<body>
    <!-- NAVBAR -->
    <nav>
        <div class="logo-container">
            <img src="images/logo.png" alt="Logo" class="logo">
            <h1 class="site-title">PawPal</h1>
        </div>
        <div class="nav-links" id="navLinks">
            <i class="fa fa-times" onclick="hideMenu()"></i>
            <ul>
                <li><a href="index.html">HOME</a></li>
          <li><a href="AS_list.html">EXPLORE</a></li>
          <li>
            <a href="emergency.html" class="emergency-btn">EMERGENCY</a>
          </li>
            </ul>
        </div>
        <i class="fa fa-bars" onclick="showMenu()"></i>
    </nav>

    <!-- PAGE CONTENT -->
    <main>
    <h2>Find Animal Shelters</h2>
    <div class="search-container">
        <input type="text" id="searchInput" class="search-input" placeholder="Enter shelter name or city...">
        <button class="search-button" onclick="searchShelters()">Search</button>
    </div>

    <!-- Dynamic Results -->
    <div id="results"></div>

    <!-- Example static cards -->
    <div class="result-card">
        <h3>Happy Paws Shelter</h3>
        <p class="shelter-address">123 Main Street, Cape Town</p>
        <div class="card-buttons">
            <a href="adopt.html" class="card-btn adopt-btn">Adopt a Pet</a>
            <a href="give.html" class="card-btn give-btn">Give a Pet for Adoption</a>
            <a href="donate.html" class="card-btn donate-btn">Donate</a>
            <a href="volunteer.html" class="card-btn volunteer-btn">Volunteer</a>
        </div>
    </div>

    <div class="result-card">
        <h3>Furry Friends Haven</h3>
        <p class="shelter-address">45 Dogwood Lane, Johannesburg</p>
        <div class="card-buttons">
            <a href="adopt.html" class="card-btn adopt-btn">Adopt a Pet</a>
            <a href="give.html" class="card-btn give-btn">Give a Pet for Adoption</a>
            <a href="donate.html" class="card-btn donate-btn">Donate</a>
            <a href="volunteer.html" class="card-btn volunteer-btn">Volunteer</a>
        </div>
    </div>

    <div class="result-card">
        <h3>Purrfect Companions</h3>
        <p class="shelter-address">78 Cat Street, Durban</p>
        <div class="card-buttons">
            <a href="adopt.html" class="card-btn adopt-btn">Adopt a Pet</a>
            <a href="give.html" class="card-btn give-btn">Give a Pet for Adoption</a>
            <a href="donate.html" class="card-btn donate-btn">Donate</a>
            <a href="volunteer.html" class="card-btn volunteer-btn">Volunteer</a>
        </div>
    </div>

    <div class="result-card">
        <h3>Safe Paws Rescue</h3>
        <p class="shelter-address">12 Elm Avenue, Pretoria</p>
        <div class="card-buttons">
            <a href="adopt.html" class="card-btn adopt-btn">Adopt a Pet</a>
            <a href="give.html" class="card-btn give-btn">Give a Pet for Adoption</a>
            <a href="donate.html" class="card-btn donate-btn">Donate</a>
            <a href="volunteer.html" class="card-btn volunteer-btn">Volunteer</a>
        </div>
    </div>

    <div class="result-card">
        <h3>Tails & Whiskers Shelter</h3>
        <p class="shelter-address">90 Oak Road, Port Elizabeth</p>
        <div class="card-buttons">
            <a href="adopt.html" class="card-btn adopt-btn">Adopt a Pet</a>
            <a href="give.html" class="card-btn give-btn">Give a Pet for Adoption</a>
            <a href="donate.html" class="card-btn donate-btn">Donate</a>
            <a href="volunteer.html" class="card-btn volunteer-btn">Volunteer</a>
        </div>
    </div>
</main>


    <!-- FOOTER -->
    <footer>
        &copy; 2025 PawPal. All rights reserved.
    </footer>

    <!-- SCRIPTS -->
    <script>
        // NAV MENU
        var navLinks = document.getElementById("navLinks");
        function showMenu() { navLinks.style.right = "0"; }
        function hideMenu() { navLinks.style.right = "-200px"; }

        // SEARCH SHELTERS - DYNAMIC CARDS
        async function searchShelters() {
            const query = document.getElementById("searchInput").value;
            const response = await fetch(`/search?query=${encodeURIComponent(query)}`);
            const shelters = await response.json();

            const resultsDiv = document.getElementById("results");
            resultsDiv.innerHTML = ""; // clear previous results

            shelters.forEach(s => {
                const card = document.createElement("div");
                card.classList.add("result-card");
                card.innerHTML = `
                    <h3>${s.name}</h3>
                    <p class="shelter-address">${s.address}</p>
                    <div class="card-buttons">
                        <a href="adopt.html?shelter_id=${s.id}" class="card-btn adopt-btn">Adopt a Pet</a>
                        <a href="give.html?shelter_id=${s.id}" class="card-btn give-btn">Give a Pet for Adoption</a>
                        <a href="donate.html?shelter_id=${s.id}" class="card-btn donate-btn">Donate</a>
                        <a href="volunteer.html?shelter_id=${s.id}" class="card-btn volunteer-btn">Volunteer</a>
                    </div>
                `;
                resultsDiv.appendChild(card);
            });
        }
    </script>
</body>
</html>
